(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{20:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),m=a(6),u=a(1),s=function(){return l.a.createElement("h1",{className:"title"},"Home page")},o=a(8),i=a(12),p=a.n(i),h=a(18),E=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(a(26),a(10)),f=a.n(b),d=function(e){var t=e.name,a=e.match,r=e.slug,c=e.sex,u=(e.location,e.setUrl);return Object(n.useEffect)((function(){u(a.params.id)}),[a.params.id]),l.a.createElement(m.b,{className:f()({link_m:"m"===c,link_f:"f"===c}),to:"/people/".concat(r)},t)},g=(a(32),function(e){var t=e.people,a=(Object(u.i)(),Object(u.h)(),Object(n.useState)("")),r=Object(o.a)(a,2),c=r[0],m=r[1],s=function(e){return t.find((function(t){return t.name===e}))};return l.a.createElement(l.a.Fragment,null,t.map((function(e){var t=e.slug,a=e.name,n=e.sex,r=e.born,o=e.died,i=e.motherName,p=e.fatherName;return l.a.createElement(u.b,{key:t,path:"/people/:id?",render:function(e){var u=e.match,h=e.location;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{className:f()({"is-selected":t===c})},l.a.createElement("td",null,l.a.createElement(d,{sex:n,name:a,match:u,slug:t,location:h,setUrl:m})),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,o),l.a.createElement("td",null,s(i)?l.a.createElement(d,{sex:s(i).sex,name:i,match:u,slug:s(i).slug,location:h,setUrl:m}):l.a.createElement(l.a.Fragment,null,i)),l.a.createElement("td",null,s(p)?l.a.createElement(d,{sex:s(p).sex,name:p,match:u,slug:s(p).slug,location:h,setUrl:m}):l.a.createElement(l.a.Fragment,null,p))))}})})))}),v=function(e){e.match;var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)([]),s=Object(o.a)(m,2),i=s[0],p=s[1],h=Object(u.g)(),b=Object(u.h)(),f=new URLSearchParams(b.search),d=(f.get("query"),Object(n.useState)("")),v=Object(o.a)(d,2),N=v[0],j=v[1];Object(n.useEffect)((function(){E().then((function(e){return p(e),c(e)}))}),[]);return Object(n.useEffect)((function(){p(N?r.filter((function(e){return e.name.toLowerCase().startsWith(N)||e.motherName&&e.motherName.toLowerCase().startsWith(N)||e.fatherName&&e.fatherName.toLowerCase().startsWith(N)})):r)}),[N]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"title"},"This is People Page"),l.a.createElement("input",{className:"input is-primary",type:"text",value:N,onChange:function(e){j(e.target.value),f.set("query",e.target.value),h.push({search:f.toString()})}}),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Sex"),l.a.createElement("th",null,"Born"),l.a.createElement("th",null,"Died"),l.a.createElement("th",null,"Mother"),l.a.createElement("th",null,"Father"))),l.a.createElement("tbody",null,l.a.createElement(g,{people:i}))))},N=(a(33),a(34),function(){return"/home"===Object(u.h)().pathname?l.a.createElement(u.a,{to:"/"}):l.a.createElement("div",{className:"App"},l.a.createElement("nav",{className:"navbar"},l.a.createElement("ul",{className:"navbar-brand"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/",activeClassName:"nav__link_active",className:"navbar-item"},l.a.createElement("h1",null,"Home Page"))),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/people",activeClassName:"nav__link_active",className:"navbar-item"},l.a.createElement("h1",null,"People Page"))))),l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/",exact:!0,component:s}),l.a.createElement(u.b,{path:"/people",component:v})))});c.a.render(l.a.createElement(m.a,null,l.a.createElement(N,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b2c7ae71.chunk.js.map