(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{21:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),s=a(7),o=a(1),m=function(){return c.a.createElement("h1",{className:"title"},"Home page")},u=a(18),i=a(8),p=a(12),h=a.n(p),f=a(19),d=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(27),a(3)),b=a.n(E),v=function(e){var t=e.name,a=e.match,r=e.slug,l=e.sex,o=e.location,m=e.setUrl;return Object(n.useEffect)((function(){m(a.params.id)}),[a.params.id,m]),c.a.createElement(s.b,{className:b()({link_m:"m"===l,link_f:"f"===l}),to:{pathname:"/people/".concat(r,"/"),search:o.search},exact:!0},t)},g=(a(33),function(e){var t=e.people,a=e.idSelected,r=(e.setIdSelected,Object(n.useState)("")),l=Object(i.a)(r,2),s=l[0],m=l[1],u=function(e){return t.find((function(t){return t.name===e}))};return c.a.createElement(c.a.Fragment,null,t.map((function(e){var t=e.slug,n=e.name,r=e.sex,l=e.born,i=e.died,p=e.motherName,h=e.fatherName;return c.a.createElement(o.b,{key:t,path:"/people/:id?",render:function(e){var o=e.match,f=e.location;return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{className:b()({"is-selected":t===s})},c.a.createElement("td",{className:b()({cell_active:"name"===a})},c.a.createElement(v,{sex:r,name:n,match:o,slug:t,location:f,setUrl:m})),c.a.createElement("td",{className:b()({cell_active:"sex"===a})},r),c.a.createElement("td",{className:b()({cell_active:"born"===a})},l),c.a.createElement("td",{className:b()({cell_active:"died"===a})},i),c.a.createElement("td",null,u(p)?c.a.createElement(v,{sex:u(p).sex,name:p,match:o,slug:u(p).slug,location:f,setUrl:m}):c.a.createElement(c.a.Fragment,null,p)),c.a.createElement("td",null,u(h)?c.a.createElement(v,{sex:u(h).sex,name:h,match:o,slug:u(h).slug,location:f,setUrl:m}):c.a.createElement(c.a.Fragment,null,h))))}})})))}),N=function(e){e.match;var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),p=m[0],h=m[1],f=Object(n.useState)(""),E=Object(i.a)(f,2),v=E[0],N=E[1],j=Object(n.useState)({}),O=Object(i.a)(j,2),_=O[0],x=O[1],y=Object(n.useState)(""),k=Object(i.a)(y,2),C=k[0],S=k[1],w=Object(o.g)(),F=Object(o.h)(),P=new URLSearchParams(F.search),U=P.get("query");Object(n.useEffect)((function(){for(var e=["name","sex","died","born"],t=F.search.split("?"),a=0;a<e.length;a++)t.includes("sortBy=".concat(e[a]))&&S(e[a])}),[F.search]),Object(n.useEffect)((function(){d().then((function(e){return h(e),l(e)}))}),[]),Object(n.useEffect)((function(){B(U)}),[U]);var B=function(e){h(e?r.filter((function(t){return t.name.toLowerCase().startsWith(e)||t.motherName&&t.motherName.toLowerCase().startsWith(e)||t.fatherName&&t.fatherName.toLowerCase().startsWith(e)})):r)},L=Object(n.useCallback)(function(e,t){var a=0;return function(){clearTimeout(a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];a=setTimeout.apply(void 0,[e,t].concat(c))}}((function(e){e?P.set("query",e):P.delete("query"),w.push({search:P.toString()})}),500),[]),q=function(e){var t;_[e]&&"desc"!==_[e]?(h("died"===e||"born"===e?p.sort((function(t,a){return a[e]-t[e]})):p.sort((function(t,a){return t[e]&&a[e]&&a[e].localeCompare(t[e])}))),t="desc"):(h("died"===e||"born"===e?p.sort((function(t,a){return t[e]-a[e]})):p.sort((function(t,a){return t[e]&&a[e]&&t[e].localeCompare(a[e])}))),t="asc"),x(Object(u.a)({},e,t)),w.push({search:"sortBy=".concat(e,"?sortOrder=").concat(t,"/")})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"title"},"This is People Page"),c.a.createElement("input",{className:"input is-primary",type:"text",value:v,onChange:function(e){!function(e){N(e.target.value),L(e.target.value)}(e)}}),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{id:"name",onClick:function(e){q(e.target.id)},className:b()({cell_active:"name"===C})},"Name"),c.a.createElement("th",{id:"sex",onClick:function(e){q(e.target.id)},className:b()({cell_active:"sex"===C})},"Sex"),c.a.createElement("th",{id:"born",onClick:function(e){q(e.target.id)},className:b()({cell_active:"born"===C})},"Born"),c.a.createElement("th",{id:"died",onClick:function(e){q(e.target.id)},className:b()({cell_active:"died"===C})},"Died"),c.a.createElement("th",null,"Mother"),c.a.createElement("th",null,"Father"))),c.a.createElement("tbody",null,c.a.createElement(g,{people:p,idSelected:C}))))},j=(a(34),a(35),function(){return c.a.createElement("h1",{className:"title"},"Page Not Found")}),O=function(){return"/home"===Object(o.h)().pathname?c.a.createElement(o.a,{to:"/"}):c.a.createElement("div",{className:"App"},c.a.createElement("nav",{className:"navbar"},c.a.createElement("ul",{className:"navbar-brand"},c.a.createElement("li",null,c.a.createElement(s.b,{to:"/",activeClassName:"nav__link_active",className:"navbar-item"},c.a.createElement("h1",null,"Home Page"))),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/people",activeClassName:"nav__link_active",className:"navbar-item"},c.a.createElement("h1",null,"People Page"))))),c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/",exact:!0,component:m}),c.a.createElement(o.b,{path:"/people",component:N}),c.a.createElement(o.b,{path:"*",component:j})))};l.a.render(c.a.createElement(s.a,null,c.a.createElement(O,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.0b88707a.chunk.js.map