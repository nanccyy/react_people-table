{"version":3,"sources":["components/HomePage/HomePage.jsx","api/people.js","components/PersonName/PersonName.jsx","components/PersonRow/PersonRow.jsx","components/PeoplePage/PeoplePage.jsx","components/NotFoundPage/NotFoundPage.jsx","App.jsx","index.js"],"names":["HomePage","className","getPeople","a","fetch","response","people","json","PersonName","name","match","slug","sex","location","setUrl","useEffect","params","id","classNames","table__link","table__link_m","table__link_f","to","pathname","search","exact","PersonRow","idSelected","setIdSelected","useState","url","isPersonFound","parent","find","person","map","born","died","motherName","fatherName","key","path","render","table__cell_active","tableTitles","PeoplePage","peopleFromServer","setPeopleFromServer","setPeople","setName","sort","setSort","history","useHistory","useLocation","searchParams","URLSearchParams","query","get","split","i","length","includes","then","data","filter","param","insertedInput","toLowerCase","trim","startsWith","planQueryUpdate","useCallback","func","delay","timerId","clearTimeout","args","setTimeout","debounce","set","delete","push","toString","type","value","onChange","event","target","handleQueryUpdate","title","onClick","order","b","sortPeople","table__title","table__title_active","NotFoundPage","App","activeClassName","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.dd26baf9.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage = () => (\n  <h1 className=\"title\">Home page</h1>\n);","// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = async() => {\n  const response = await fetch(BASE_URL);\n  const people = response.json();\n\n  return people;\n};\n","import React, { useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './PersonName.scss';\nimport classNames from 'classnames';\n\nexport const PersonName = ({ name, match, slug, sex, location, setUrl }) => {\n  useEffect(() => {\n   setUrl(match.params.id)\n  }, [match.params.id, setUrl])\n\n  return (\n    <NavLink\n      className={classNames({\n        table__link: true,\n        table__link_m: sex === 'm',\n        table__link_f: sex === 'f'\n      })}\n      to={{\n       pathname: `/people/${slug}/`,\n       search: location.search\n      }}\n      exact\n      >\n        {name}\n    </NavLink>\n  )\n}","import React, {useState } from 'react';\nimport { PersonName } from '../PersonName/PersonName';\nimport { Route } from 'react-router-dom';\nimport './PersonRow.scss';\nimport classNames from 'classnames';\n\nexport const PersonRow = ({ people, idSelected, setIdSelected }) => {\n  const [url, setUrl] = useState('');\n\n  const isPersonFound = (parent) => {\n    return people.find(person => person.name === parent);\n  };\n\n  return (\n    <>\n      {people.map(person => {\n        const { slug, name, sex, born, died, motherName, fatherName } = person;\n        return (\n          <Route key={slug} path={`/people/:id?`} render={({ match, location }) => (\n            <>\n              <tr\n              className={classNames({\n                \"is-selected\": slug === url\n              })}>\n                <td className={classNames({\n                  table__cell_active: idSelected === 'name'\n                 })}>\n                  <PersonName\n                    sex={sex}\n                    name={name}\n                    match={match}\n                    slug={slug}\n                    location={location}\n                    setUrl={setUrl}\n                  >\n                  </PersonName>\n                </td>\n                <td\n                className={classNames({\n                  table__cell_active: idSelected === 'sex'\n                 })}\n                >{sex}</td>\n                <td\n                 className={classNames({\n                  table__cell_active: idSelected === 'born'\n                 })}\n                 >{born}</td>\n                <td\n                 className={classNames({\n                  table__cell_active: idSelected === 'died'\n                 })}\n                 >{died}</td>\n                <td>\n                  {isPersonFound(motherName) ?\n                  <PersonName\n                  sex={isPersonFound(motherName).sex}\n                  name={motherName}\n                  match={match}\n                  slug={isPersonFound(motherName).slug}\n                  location={location}\n                  setUrl={setUrl}>\n                  </PersonName>\n                  : <>{motherName}</>\n                  }\n                </td>\n                <td>\n                  {isPersonFound(fatherName) ?\n                   <PersonName\n                   sex={isPersonFound(fatherName).sex}\n                   name={fatherName}\n                   match={match}\n                   slug={isPersonFound(fatherName).slug}\n                   location={location}\n                   setUrl={setUrl}>\n                   </PersonName>\n                  : <>{fatherName}</>\n                  }\n                </td>\n              </tr>\n            </>\n          )}>\n          </Route>\n        )\n      })\n      }\n\n    </>\n  )\n}","import React, { useEffect, useState, useCallback } from 'react';\nimport { getPeople } from '../../api/people';\nimport { PersonRow } from '../PersonRow/PersonRow';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\n\nconst tableTitles = ['name', 'sex', 'born', 'died'];\n\nexport const PeoplePage = ({ match }) => {\n  const [peopleFromServer, setPeopleFromServer] = useState([])\n  const [people, setPeople] = useState([]);\n  const [name, setName] = useState('');\n  const [sort, setSort] = useState({});\n  const [idSelected, setIdSelected] = useState('');\n\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    let search = location.search.split('?');\n    for (let i = 0; i < tableTitles.length; i++) {\n      if (search.includes(`sortBy=${tableTitles[i]}`)) {\n        setIdSelected(tableTitles[i]);\n      }\n    }\n  }, [location.search]);\n\n  useEffect(() => {\n    getPeople().then(data => (setPeople(data), setPeopleFromServer(data)));\n  }, []);\n\n  useEffect(() => {\n    filter(query);\n  }, [query]);\n\n  const filter = (param) => {\n    if (param) {\n      const insertedInput = param.toLowerCase().trim();\n      setPeople(peopleFromServer.filter(person =>\n        person.name.toLowerCase().startsWith(insertedInput)\n        || (person.motherName && person.motherName.toLowerCase().startsWith(insertedInput))\n        || (person.fatherName && person.fatherName.toLowerCase().startsWith(insertedInput))));\n    } else {\n      setPeople(peopleFromServer);\n    }\n  }\n\n  const debounce = (func, delay) => {\n    let timerId = 0;\n    return (...args) => {\n      clearTimeout(timerId);\n      timerId = setTimeout(func, delay, ...args)\n    };\n  }\n\n  const updateQuery = (query) => {\n    if (query) {\n      searchParams.set('query', query);\n    } else {\n      searchParams.delete('query');\n    }\n    history.push({\n      search: searchParams.toString(),\n    });\n  };\n\n  const planQueryUpdate = useCallback(debounce(updateQuery, 500), []);\n\n  const handleQueryUpdate = (event) => {\n    setName(event.target.value)\n    planQueryUpdate(event.target.value);\n  }\n\n  const sortPeople = (id) => {\n    let order;\n    if (!sort[id] || sort[id] === 'desc') {\n      setPeople(people\n        .sort((a, b) => ((typeof b[id] === \"number\") - (typeof a[id] === \"number\"))\n          || (a[id] > b[id] ? 1 : -1)\n        ));\n      order = 'asc';\n    } else {\n      setPeople(people\n        .sort((a, b) => ((typeof a[id] === \"number\") - (typeof b[id] === \"number\"))\n          || (b[id] > a[id] ? 1 : -1)\n        ));\n      order = 'desc';\n    }\n\n    setSort({ [id]: order });\n    history.push({\n      search: `sortBy=${id}?sortOrder=${order}/`,\n    });\n  }\n\n  return (\n    <>\n      <h1 className=\"title\">This is People Page</h1>\n      <input\n        className=\"input is-primary\"\n        type=\"text\"\n        value={name}\n        onChange={(event) => {\n          handleQueryUpdate(event)\n        }}\n      >\n      </input>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            {tableTitles.map(title => (\n              <th\n              key={title}\n              id={title}\n              onClick={(event) => { sortPeople(event.target.id) }}\n              className={classNames({\n                table__title: true,\n                table__title_active: idSelected === title\n              })}\n            >\n              {title}\n              </th>\n            ))}\n            <th>Mother</th>\n            <th>Father</th>\n          </tr>\n        </thead>\n        <tbody>\n          <PersonRow people={people} idSelected={idSelected} ></PersonRow>\n        </tbody>\n      </table>\n    </>\n  )\n}\n","import React from 'react';\n\nexport const NotFoundPage = () => {\n  return (\n    <h1 className=\"title\">Page Not Found</h1>\n  )\n} ","import React from 'react';\nimport { Switch, Route, NavLink, useLocation, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/HomePage/HomePage';\nimport { PeoplePage } from './components/PeoplePage/PeoplePage';\nimport './App.scss';\nimport 'bulma/css/bulma.css';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n      <nav className=\"navbar\">\n        <ul className=\"navbar-brand\">\n          <li><NavLink to=\"/\" activeClassName=\"nav__link_active\" className=\"navbar-item\"><h1>Home Page</h1></NavLink></li>\n          <li><NavLink to=\"/people\" activeClassName=\"nav__link_active\" className=\"navbar-item\"><h1>People Page</h1></NavLink></li>\n        </ul>\n      </nav>\n\n      <Switch>\n        <Route path=\"/\" exact component={HomePage}></Route>\n        <Route path=\"/home\">\n          <Redirect to='/' />\n        </Route>\n        <Route path=\"/people\" component={PeoplePage}></Route>\n        <Route path=\"*\" component={NotFoundPage}></Route>\n      </Switch>\n    </div>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}