(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{21:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),s=a(7),m=a(1),o=function(){return c.a.createElement("h1",{className:"title"},"Home page")},u=a(18),i=a(8),p=a(12),b=a.n(p),f=a(19),h=function(){var e=Object(f.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(27),a(6)),d=a.n(E),v=function(e){var t=e.name,a=e.match,r=e.slug,l=e.sex,m=e.location,o=e.setUrl;return Object(n.useEffect)((function(){o(a.params.id)}),[a.params.id,o]),c.a.createElement(s.b,{className:d()({table__link:!0,table__link_m:"m"===l,table__link_f:"f"===l}),to:{pathname:"/people/".concat(r,"/"),search:m.search},exact:!0},t)},_=(a(33),function(e){var t=e.people,a=e.idSelected,r=(e.setIdSelected,Object(n.useState)("")),l=Object(i.a)(r,2),s=l[0],o=l[1],u=function(e){return t.find((function(t){return t.name===e}))};return c.a.createElement(c.a.Fragment,null,t.map((function(e){var t=e.slug,n=e.name,r=e.sex,l=e.born,i=e.died,p=e.motherName,b=e.fatherName;return c.a.createElement(m.b,{key:t,path:"/people/:id?",render:function(e){var m=e.match,f=e.location;return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",{className:d()({"is-selected":t===s})},c.a.createElement("td",{className:d()({table__cell_active:"name"===a})},c.a.createElement(v,{sex:r,name:n,match:m,slug:t,location:f,setUrl:o})),c.a.createElement("td",{className:d()({table__cell_active:"sex"===a})},r),c.a.createElement("td",{className:d()({table__cell_active:"born"===a})},l),c.a.createElement("td",{className:d()({table__cell_active:"died"===a})},i),c.a.createElement("td",null,u(p)?c.a.createElement(v,{sex:u(p).sex,name:p,match:m,slug:u(p).slug,location:f,setUrl:o}):c.a.createElement(c.a.Fragment,null,p)),c.a.createElement("td",null,u(b)?c.a.createElement(v,{sex:u(b).sex,name:b,match:m,slug:u(b).slug,location:f,setUrl:o}):c.a.createElement(c.a.Fragment,null,b))))}})})))}),g=["name","sex","born","died"],N=function(e){e.match;var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),p=o[0],b=o[1],f=Object(n.useState)(""),E=Object(i.a)(f,2),v=E[0],N=E[1],j=Object(n.useState)({}),O=Object(i.a)(j,2),y=O[0],x=O[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),w=S[0],C=S[1],F=Object(m.g)(),P=Object(m.h)(),L=new URLSearchParams(P.search),U=L.get("query");Object(n.useEffect)((function(){for(var e=P.search.split("?"),t=0;t<g.length;t++)e.includes("sortBy=".concat(g[t]))&&C(g[t])}),[P.search]),Object(n.useEffect)((function(){h().then((function(e){return b(e),l(e)}))}),[]),Object(n.useEffect)((function(){q(U)}),[U]);var q=function(e){if(e){var t=e.toLowerCase().trim();b(r.filter((function(e){return e.name.toLowerCase().startsWith(t)||e.motherName&&e.motherName.toLowerCase().startsWith(t)||e.fatherName&&e.fatherName.toLowerCase().startsWith(t)})))}else b(r)},B=Object(n.useCallback)(function(e,t){var a=0;return function(){clearTimeout(a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];a=setTimeout.apply(void 0,[e,t].concat(c))}}((function(e){e?L.set("query",e):L.delete("query"),F.push({search:L.toString()})}),500),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"title"},"This is People Page"),c.a.createElement("input",{className:"input is-primary",type:"text",value:v,onChange:function(e){!function(e){N(e.target.value),B(e.target.value)}(e)}}),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,g.map((function(e){return c.a.createElement("th",{key:e,id:e,onClick:function(e){!function(e){var t;y[e]&&"desc"!==y[e]?(b(p.sort((function(t,a){return("number"===typeof t[e])-("number"===typeof a[e])||(a[e]>t[e]?1:-1)}))),t="desc"):(b(p.sort((function(t,a){return("number"===typeof a[e])-("number"===typeof t[e])||(t[e]>a[e]?1:-1)}))),t="asc"),x(Object(u.a)({},e,t)),F.push({search:"sortBy=".concat(e,"?sortOrder=").concat(t,"/")})}(e.target.id)},className:d()({table__title:!0,table__title_active:w===e})},e)})),c.a.createElement("th",null,"Mother"),c.a.createElement("th",null,"Father"))),c.a.createElement("tbody",null,c.a.createElement(_,{people:p,idSelected:w}))))},j=(a(34),a(35),function(){return c.a.createElement("h1",{className:"title"},"Page Not Found")}),O=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("nav",{className:"navbar"},c.a.createElement("ul",{className:"navbar-brand"},c.a.createElement("li",null,c.a.createElement(s.b,{to:"/",activeClassName:"nav__link_active",className:"navbar-item"},c.a.createElement("h1",null,"Home Page"))),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/people",activeClassName:"nav__link_active",className:"navbar-item"},c.a.createElement("h1",null,"People Page"))))),c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/",exact:!0,component:o}),c.a.createElement(m.b,{path:"/home"},c.a.createElement(m.a,{to:"/"})),c.a.createElement(m.b,{path:"/people",component:N}),c.a.createElement(m.b,{path:"*",component:j})))};l.a.render(c.a.createElement(s.a,null,c.a.createElement(O,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.dd26baf9.chunk.js.map